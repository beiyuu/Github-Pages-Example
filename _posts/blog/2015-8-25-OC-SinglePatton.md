---
layout: post
title: iOS－单利模式
description: 设计模式是一个小菜鸟进阶的必经之路，好了，我现在也走上了这条道路
category: blog
---

首先声明，这些都是作者个人的理解，如果有什么错的地方，还请大家见谅。

开篇先给大家浅谈下所谓的设计模式，首先跟大家说一下设计模式没有网上说的神乎其神，什么面向对象不知道设计模式你还怎么写程序，什么设计模式非常重要了。作者在这里跟大家所一句，设计模式是编程前辈们为了方便后来人编程的方便，针对一些特殊的问题，将一些编程中经常用到的编程方法进行统一的整理规范，保留下来的精华就是咱们今天看到的设计模式了。

今天我们先从单利模式说起。首先说下单利模式的精髓：所谓单利，就是只有一个实例。那么单利模式的精髓就是假设你想对某个类使用单利模式，那么这个类在整个系统中能且仅能被实例化一次。这类我们称之为单例类。

对上述的话说一下，实例化类想必大家一定知道怎么回事，如果不知道的话，孩子，放弃面向对象编程吧。而单利设计模式就是说当你在一个系统中实例化一个类之后，在以后的使用的过程不再对其进行实例化，整个系统所有对这个类的调用，全都有这一个对象去完成。现在大家应该明白单利模式是这么回事了吧。

编写单利类的时候一定要注意一下几点：
<ul>
	<li>单利类创建一个实例</li>
	<li>实例必须有单利类自己创建</li>
	<li>必须向整个系统提供这个实例</li>
</ul>

关于单利模式的实现：
单例模式的实现有两种做法。一种是采用static，还有一种就是我今天想说的采用GCD。下面我们看一下代码：

<code>
		+(obj *)shareInstance{
		//首先声明静态的实例对象
		static obj *_shareInstance = nil;
		//创建一个线程
		static dispatch_once_t oncePredicate;
		//执行线程
		dispatch_once(&oncePredicate, ^{
		_shareInstance = [[obj alloc] init];
		});
		return _shareInstance;
	}
</code>

这里说一下咱们开辟的这个线程，这个线程在这个app运行期间，运行且仅能运行一次，也就保证了我们的obj在这个app运行期间仅能被实例一次。
