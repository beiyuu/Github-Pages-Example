---
layout: post
title: C++ class
category: project
description: 最近在学习C++，写点nlog攒点人品
---
首先本人吐槽以下C++程序设计语言中文版的翻译真不怎么样，还是建议大家去读英文原版。

当我读到类这一章的时候，作者开篇就告诉我们类就是一种帮大家建立新类型的工具，使这些类型的是用能像内部类型一样方便。有没有一种stru
ct的即视感。然后后面我们就读到作者的原话struct也是一种类的说法，我就呵呵了。这里我就不吐槽了，不过在这里提醒以下大家，struct也
是类的一种，不过两者与普通的类又有些不同，struct默认的属性是public，普通类是private

C++中类的访问控制有严格的限制，类中的private声明只能通过成员函数。本书给出这样的做的理由是这样做有很多优点。例如当有非法值保存
时，可以直接确定这个非法的保存肯定是有相应的函数造成的，直接查看相应的函数就可以了。细想一下哈，如果这样声明，好像你编译的时候就
会提示不能访问吧。还有一个就是当一个用户学习使用一个类时这需要查看成员函数，就是给出的接口，不必细细探究类成员的具体定义。

构造函数：
看了上面的说法之后大家或许会想问，这样的怎么初始化类的成员变量啊？通过函数，因为你没有其他的办法对他进行访问了，最起码目前作者还
不知道哦。为了体现对这个足够的重视，C++单独声明一种函数专门来地对类就行初始化--构造函数。不得不承认构造函数也算是一个很优秀的设
计，想想一下每次都要写init函数该是一件多蛋疼的事，而且如果对于不同情况下的初始化我们又该怎么办？用多肽吗？让我静静，我不想再想下
去......然而构造函数很好的解决了这些事情，同一个类中可以声明多个构造函数，创建类对象时，编译器会根据参数选择相应的构造函数对类对
像进行初始化

静态成员：
现在大家想象一种情况，想课本给我们那个例子，Date的值默认为今天的年月日，那么所有的程序必须依赖于全局变量today，也就是说如果我们
在其他地方也行使用这个类必须准确的定义today这个变量。让我静静。相信大家也会觉得这是一个相当不方便的设计，所以我们要尽量避免这种
情况。再给大家说一个银行利息的例子，因为这里这个环境依赖问题我没搞得太懂，于是就bing了一下（前两天买的vpn被天朝和谐了，只有用这
个了）看到这个例子相当的不错。

实例：现在我们设计一个存款类，这时候我们有一个类成员利息。当利息发生变化时，我们原则上是希望，无论是刚刚创建的实例，还是已经创建
的实例。运行访问的都的利息值都是我们刚刚修改的，这个时候我们该怎么办？声明全局变量？我再其他文件中创建的实例怎么办？全部都声明，
很显然，这个时候我们用静态类型可以很简单的解决这个问题。自己试试看，很简单的一个程序。

类对象的复制：
类对象的复制并不是想大家想象中那样简单的复制，它是有类中一个专门的函数负责的，这个函数叫做复制构造函数。个人觉得这个还是很简单的
大家随便看小就好。不过特别跟大家强调一下调用构造函数的情形：
1.对象赋值的时候
2.函数返回值为类对象时
3.以类对象为参数进行传递的时候

常量成员函数：
醉了，这就是我对C++无语的地方。常量函数的定义就是函数本不会对类的状态发生修改。我觉得常量成员函数的设计应该为了防止类成员相互访问时对对方进行修改。这里有两点需要提醒大家。第一：常量函数的定义需要在韩式的最后添加const关键字